<template>
  <div class="base-data">
    <div class="base-title">
      <span>
        <b></b>
        åŸºç¡€ç»Ÿè®¡
      </span>
      <el-tooltip effect="dark" placement="right" v-tooltipMove>
        <div slot="content">
          1.é¢„çº¦äººæ•°ï¼šç»Ÿè®¡é¢„å‘ŠçŠ¶æ€ä¸‹æœ‰å¤šå°‘äººé¢„çº¦äº†å½“å‰æ´»åŠ¨ï¼Œæ•°æ®ç»Ÿè®¡ä¸å»é‡
          <br />
          2.æŠ¥åè¡¨å•ï¼šåº”ç”¨åœ¨ç›´æ’­æ•´ä¸ªç¯èŠ‚ï¼ˆé¢„å‘Š+ç›´æ’­+å›æ”¾ï¼‰ï¼Œç»Ÿè®¡å½“å‰æ´»åŠ¨å¤šå°‘äººè¿›è¡ŒæŠ¥åï¼Œæ•°æ®å»é‡
          <br />
          3.è¯•çœ‹ï¼šå›æ”¾æˆ–ç‚¹æ’­è§‚çœ‹é™åˆ¶è®¾ç½®è¯•çœ‹åï¼Œç»Ÿè®¡å¤šå°‘äººè¿›è¡Œäº†è¯•çœ‹ï¼Œæ•°æ®å»é‡
          <br />
          4.é‚€è¯·æ’åï¼šæ‰€æœ‰ç”Ÿæˆè¿‡é‚€è¯·å¡çš„è§‚ä¼—éƒ½å‚ä¸æ­¤æ’åï¼›é‚€è¯·äººæ•°ç›¸åŒçš„ï¼ŒæŒ‰é‚€è¯·äººé¦–æ¬¡è§‚çœ‹æ—¶é—´æ’å
          <br />
          5.åˆ†äº«ç”¨æˆ·åˆ†äº«çš„é“¾æ¥è¢«ä»–äººè®¿é—®1æ¬¡æœ‰æ•ˆåˆ†äº«æ•°è®°ä¸º1ï¼ŒåŒè®¾å¤‡å½“å¤©é‡å¤è®¿é—®åªç»Ÿè®¡1æ¬¡ï¼Œç»Ÿè®¡èŒƒå›´ï¼šå¾®ä¿¡ã€å¾®åšã€QQ
        </div>
        <i class="iconfont-v3 saasicon_help_m"></i>
      </el-tooltip>
    </div>
    <el-row :gutter="40">
      <el-col class="liveItem">
        <div class="base-item" v-if="isStatus != 4" @click="exportSubscribeInfo">
          <p>å¯¼å‡º</p>
          <div class="base-main">
            <label>
              <img src="../../../../common/images/icon/icon_appointment@2x.png" alt="" />
            </label>
            <!-- <icon icon-class="saasicon_yuyue"></icon> -->
            <div class="base-text">
              <span>é¢„çº¦ï¼ˆäººï¼‰</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.subscribeNum"
                  :duration="1500"
                  v-if="dataInfo.subscribeNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div class="base-item" @click="exportAnswer">
          <p>å¯¼å‡º</p>
          <div class="base-main">
            <label>
              <img src="../../../../common/images/icon/icon_registration form@2x.png" alt="" />
            </label>

            <!-- <icon icon-class="saasicon_baomingbiaodan"></icon> -->
            <div class="base-text">
              <span>æŠ¥åè¡¨å•ï¼ˆäººï¼‰</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.answerNum"
                  :duration="1500"
                  v-if="dataInfo.answerNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div class="base-item" @click="exportPreviewInfo">
          <p>å¯¼å‡º</p>
          <div class="base-main">
            <label>
              <img src="../../../../common/images/icon/icon_And proved@2x.png" alt="" />
            </label>

            <!-- <icon icon-class="saasicon_shikan"></icon> -->
            <div class="base-text">
              <span>è¯•çœ‹ï¼ˆäººï¼‰</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.previewNum"
                  :duration="1500"
                  v-if="dataInfo.previewNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div class="base-item" @click="lookOption('é‚€è¯·æ’å', 100445)">
          <p>æŸ¥çœ‹</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_ranking@2x.png" alt="" /></label>
            <!-- <icon icon-class="saasicon_yaoqingpaiming"></icon> -->
            <div class="base-text">
              <span>é‚€è¯·æ’åï¼ˆäººï¼‰</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.inviteNum"
                  :duration="1500"
                  v-if="dataInfo.inviteNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div class="base-item" @click="exportShare">
          <p>å¯¼å‡º</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_share@2x.png" alt="" /></label>
            <!-- <icon icon-class="saasicon_fenxiangpaiming"></icon> -->

            <div class="base-text">
              <span>åˆ†äº«æ’åï¼ˆæ¡ï¼‰</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.shareNum"
                  :duration="1500"
                  v-if="dataInfo.shareNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
      </el-col>
    </el-row>
    <div class="base-title">
      <span>
        <b></b>
        äº’åŠ¨ç»Ÿè®¡
      </span>
      <el-tooltip effect="dark" placement="right" v-tooltipMove>
        <div slot="content">
          1.èŠå¤©ï¼š{{
            webinarType == 6
              ? 'ç»Ÿè®¡å½“å‰æ´»åŠ¨æ€»è®¡å‘é€äº†å¤šå°‘æ¡èŠå¤©ï¼Œæ¡æ•°æ˜¾ç¤ºä¸ºä¸»ç›´æ’­é—´çš„ï¼Œæ”¯æŒæŸ¥çœ‹æ˜ç»†ï¼Œæ”¯æŒå°ç»„èŠå¤©è®°å½•å¯¼å‡º'
              : 'ç»Ÿè®¡å½“å‰æ´»åŠ¨æ€»è®¡å‘é€äº†å¤šå°‘æ¡èŠå¤©ï¼Œæ”¯æŒæŸ¥çœ‹æ˜ç»†'
          }}
          <br />
          2.é—®ç­”ï¼šå¼€å¯é—®ç­”åï¼Œå½“å‰æ´»åŠ¨æ€»è®¡å‘é€äº†å¤šå°‘æ¡é—®ç­”ï¼Œæ”¯æŒæŸ¥çœ‹æ˜ç»†
          <br />
          3.ç‚¹èµï¼šå½“å‰æ´»åŠ¨æ€»è®¡æ”¶åˆ°å¤šå°‘æ¬¡ç‚¹èµï¼Œæ•°æ®ç»Ÿè®¡ä¸å»é‡
          <br />
          4.ç­¾åˆ°ï¼šæ¨é€ç­¾åˆ°åï¼Œç»Ÿè®¡å¤šå°‘äººè¿›è¡Œäº†ç­¾åˆ°ï¼Œæ”¯æŒæŸ¥çœ‹æ˜ç»†
          <br />
          5.é—®å·ï¼šæ¨é€é—®å·åï¼Œç»Ÿè®¡å¤šå°‘äººå¡«å†™äº†é—®å·ï¼Œæ”¯æŒæŸ¥çœ‹æ˜ç»†
          <br />
          6.å¿«é—®å¿«ç­”ï¼šæ¨é€å¿«é—®å¿«ç­”åï¼Œç»Ÿè®¡å¤šå°‘äººæäº¤äº†å¿«é—®å¿«ç­”ï¼Œæ”¯æŒæŸ¥çœ‹æ˜ç»†
          <br />
          7.æŠ½å¥–ï¼šæ¨é€æŠ½å¥–åï¼Œç»Ÿè®¡å¤šå°‘äººä¸­å¥–ï¼Œæ”¯æŒæŸ¥çœ‹æ˜ç»†
          <br />
          8.å‘ç¾¤çº¢åŒ…ï¼šå‘é€çº¢åŒ…åï¼Œç»Ÿè®¡å‘é€çº¢åŒ…çš„é‡‘é¢ï¼Œæ”¯æŒæŸ¥çœ‹æ˜ç»†
          <br />
          9.æ‰“èµï¼šè§‚ä¼—å¯¹å½“å‰æ´»åŠ¨æ‰“èµçš„é‡‘é¢ç»Ÿè®¡
          <br />
          10.ç¤¼ç‰©ï¼šè§‚ä¼—å¯¹å½“å‰æ´»åŠ¨èµ é€ç¤¼ç‰©çš„é‡‘é¢ç»Ÿè®¡
          <br />
          11.è¿éº¦ï¼šåˆ†ç»„æ´»åŠ¨æ”¯æŒï¼Œç»Ÿè®¡å¤šå°‘æ¡è¿éº¦æ•°æ®
          <br />
          12.åˆ†ç»„ï¼šåˆ†ç»„è®¨è®ºåï¼Œç»Ÿè®¡åˆ†ç»„æ—¶é—´ã€åˆ†ç»„æ¬¡æ•°ã€æ”¯æŒæŸ¥çœ‹æ˜ç»†
        </div>
        <i class="iconfont-v3 saasicon_help_m"></i>
      </el-tooltip>
    </div>
    <el-row :gutter="40">
      <el-col class="liveItem">
        <div class="base-item" @click="lookOption('èŠå¤©', 100447)">
          <p>æŸ¥çœ‹</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_ban@2x.png" alt="" /></label>
            <div class="base-text">
              <span>èŠå¤©(æ¡)</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.chatNum"
                  :duration="1500"
                  v-if="dataInfo.chatNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div class="base-item" v-if="isStatus != 4" @click="lookOption('é—®ç­”', 100448)">
          <p>æŸ¥çœ‹</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_Question@2x.png" alt="" /></label>
            <div class="base-text">
              <span>é—®ç­”(æ¡)</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.recordNum"
                  :duration="1500"
                  v-if="dataInfo.recordNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div class="base-item" style="cursor: default">
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_like@2x.png" alt="" /></label>
            <div class="base-text">
              <span>ç‚¹èµ(æ¬¡)</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.likeNum"
                  :duration="1500"
                  v-if="dataInfo.likeNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div class="base-item" v-if="isStatus != 4" @click="lookOption('ç­¾åˆ°', 100449)">
          <p>æŸ¥çœ‹</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_Sign@2x.png" alt="" /></label>
            <div class="base-text">
              <span>ç­¾åˆ°(äºº)</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.signNum"
                  :duration="1500"
                  v-if="dataInfo.signNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div class="base-item" v-if="isStatus != 4" @click="lookOption('é—®å·', 100450)">
          <p>æŸ¥çœ‹</p>
          <div class="base-main">
            <label>
              <img src="../../../../common/images/icon/icon_questionnaire@2x.png" alt="" />
            </label>
            <div class="base-text">
              <span>é—®å·(äºº)</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.submitNum"
                  :duration="1500"
                  v-if="dataInfo.submitNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div class="base-item" @click="lookOption('å¿«é—®å¿«ç­”', 'TODO')">
          <p>æŸ¥çœ‹</p>
          <div class="base-main">
            <label>
              <img src="../../../../common/images/icon/icon_questionnaire@2x.png" alt="" />
            </label>
            <div class="base-text">
              <span>å¿«é—®å¿«ç­”(äºº)</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.examSubmitNum"
                  :duration="1500"
                  v-if="dataInfo.examSubmitNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div class="base-item" v-if="isStatus != 4" @click="lookOption('æŠ½å¥–', 100451)">
          <p>æŸ¥çœ‹</p>
          <div class="base-main">
            <label>
              <img src="../../../../common/images/icon/icon_Lucky draw@2x.png" alt="" />
            </label>
            <div class="base-text">
              <span>æŠ½å¥–(äºº)</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.prizeNum"
                  :duration="1500"
                  v-if="dataInfo.prizeNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <div
          class="base-item"
          v-if="isStatus != 4 && webinarType != 5"
          @click="lookOption('ç°é‡‘çº¢åŒ…', 100452)"
        >
          <p>æŸ¥çœ‹</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_envelope@2x.png" alt="" /></label>
            <div class="base-text">
              <span>ç°é‡‘çº¢åŒ…(å…ƒ)</span>
              <h1 class="custom-font-barlow">{{ dataInfo.redpacketMoney }}</h1>
            </div>
          </div>
        </div>
        <div
          class="base-item"
          v-if="isStatus != 4 && webinarType != 5"
          @click="lookOption('å£ä»¤çº¢åŒ…', '')"
        >
          <p>æŸ¥çœ‹</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/codeRedPacket.png" alt="" /></label>
            <div class="base-text">
              <span>å£ä»¤çº¢åŒ…(æ¬¡)</span>
              <h1 class="custom-font-barlow">{{ dataInfo.codeRedPacketCount }}</h1>
            </div>
          </div>
        </div>
        <div class="base-item" @click="exportReward">
          <p>å¯¼å‡º</p>
          <div class="base-main">
            <label>
              <img src="../../../../common/images/icon/icon_exceptional@2x.png" alt="" />
            </label>
            <div class="base-text">
              <span>æ‰“èµ(å…ƒ)</span>
              <h1 class="custom-font-barlow">{{ dataInfo.rewardMoney }}</h1>
            </div>
          </div>
        </div>
        <div class="base-item" @click="exportGift">
          <p>å¯¼å‡º</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_gift@2x.png" alt="" /></label>
            <div class="base-text">
              <span>ç¤¼ç‰©(å…ƒ)</span>
              <h1 class="custom-font-barlow">
                {{ dataInfo.gitMoney }}
              </h1>
            </div>
          </div>
        </div>
        <!-- äºŒæœŸå…³æ³¨ç”¨æˆ·å…¥å£ï¼Œå…ˆéšè— <div class="base-item" @click="lookOption('å…³æ³¨ç”¨æˆ·', 100445)">
          <p>æŸ¥çœ‹</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_ranking@2x.png" alt=""></label>
            <div class="base-text">
              <span>å…³æ³¨ç”¨æˆ·ï¼ˆäººï¼‰</span>
              <h1 class="custom-font-barlow">
                <count-to :startVal="0"
                  :endVal="dataInfo.followersNum"
                  :duration="1500"
                  v-if="dataInfo.followersNum >= 0">
                </count-to>
              </h1>
            </div>
          </div>
        </div> -->
        <div
          class="base-item"
          v-if="isStatus != 4 && [3, 6, '3', '6'].includes(webinarType)"
          @click="exportSpeak"
        >
          <p>å¯¼å‡º</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_whea@2x.png" alt="" /></label>
            <div class="base-text">
              <span>è¿éº¦(æ¡)</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.speakNum"
                  :duration="1500"
                  v-if="dataInfo.speakNum >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
        <!-- åˆ†ç»„ç›´æ’­-åˆ†ç»„å¯¼å‡ºï¼Œä¸æ˜¯ç‚¹æ’­&æ˜¯åˆ†ç»„ç›´æ’­å±•ç¤º -->
        <div class="base-item" v-if="isStatus != 4 && webinarType == 6" @click="exportGroup">
          <p>å¯¼å‡º</p>
          <div class="base-main">
            <label><img src="../../../../common/images/icon/icon_group@2x.png" alt="" /></label>
            <div class="base-text">
              <span>åˆ†ç»„(æ¬¡)</span>
              <h1 class="custom-font-barlow">
                <count-to
                  :startVal="0"
                  :endVal="dataInfo.groupSwitchCount"
                  :duration="1500"
                  v-if="dataInfo.groupSwitchCount >= 0"
                ></count-to>
              </h1>
            </div>
          </div>
        </div>
      </el-col>
    </el-row>
  </div>
</template>
<script>
  import CountTo from 'vue-count-to';
  import { sessionOrLocal } from '@/utils/utils';
  import examServer from '@/utils/examServer';
  export default {
    data() {
      return {
        userId: JSON.parse(sessionOrLocal.get('userId')),
        vm: null,
        dataInfo: {
          previewNum: 0,
          answerNum: 0,
          subscribeNum: 0, //é¢„çº¦
          recordNum: 0,
          rewardMoney: 0,
          redpacketMoney: 0,
          codeRedPacketCount: 0,
          gitMoney: 0,
          prizeNum: 0,
          inviteNum: 0,
          shareNum: 0,
          chatNum: 0,
          likeNum: 0,
          signNum: 0,
          submitNum: 0,
          speakNum: 0,
          groupSwitchCount: 0,
          WEBINAR_PES: {}
        }
      };
    },
    components: {
      CountTo
    },
    props: {
      isStatus: {
        type: Number,
        default: 1
      },
      webinarType: {
        type: Number,
        default: 1
      }
    },
    watch: {
      webinarType() {
        if (this.webinarType == 3) {
          this.speakContactInfo();
        } else if (this.webinarType == 6) {
          this.speakContactInfo();
          this.getGroupStatics();
        }
      }
    },
    async mounted() {
      this.roomId = this.$route.query.roomId;
      await this.getConfigListIsOpen(1, this.$route.params.str);
      this.getAllDataInfo();
      if (this.isStatus != 4) {
        // ç‚¹æ’­ä¸éœ€è¦è°ƒç”¨
        this.getOtherInfo();
      }
      this.getOtherInfo();
    },
    methods: {
      //æ–‡æ¡ˆæç¤ºé—®é¢˜
      messageInfo() {
        this.vm = this.$message({
          showClose: true,
          duration: 2000,
          message: 'å¯¼å‡ºç”³è¯·æˆåŠŸï¼Œè¯·å»ä¸‹è½½ä¸­å¿ƒä¸‹è½½',
          type: 'success',
          customClass: 'zdy-info-box'
        });
      },
      // è·å–æ´»åŠ¨å±‚çº§ â€”â€” é…ç½®é¡¹å¼€å…³ / å…·ä½“é…ç½®é¡¹å€¼
      getConfigListIsOpen(scene = 1, webinar_id = '') {
        let params = {
          webinar_id: webinar_id,
          webinar_user_id: this.userId,
          scene_id: scene
        };
        return this.$fetch('planFunctionGet', this.$params(params), {
          'gray-id': this.userId
        })
          .then(res => {
            if (res && res.code === 200 && res.data.permissions) {
              const data = JSON.parse(res.data.permissions);
              this.WEBINAR_PES = data || {};
            }
          })
          .catch(e => {
            console.log('åˆ·æ–°ç­‰æƒ…å†µä¸‹è·å–æ´»åŠ¨ä¸‹æ¥å£é…ç½®é¡¹æƒ…å†µï¼Œå¼‚å¸¸ä¸åšä»»ä½•å¤„ç†');
          });
      },
      getAllDataInfo() {
        // é¢„çº¦  æŠ¥åè¡¨å•ï¼ˆäººï¼‰  è¯•çœ‹ï¼ˆäººï¼‰
        this.$fetch('getAnswerListInfo', { webinar_id: this.$route.params.str }).then(res => {
          this.dataInfo.previewNum = res.data.preview || 0;
          this.dataInfo.subscribeNum = res.data.subscribe || 0;
          this.dataInfo.answerNum = res.data.regform || 0;
        });
        // é‚€è¯·æ’å
        this.$fetch('getInviteListInfo', { webinar_id: this.$route.params.str }).then(res => {
          this.dataInfo.inviteNum = res.data.total || 0;
        });
        // åˆ†äº«æ’å
        this.$fetch('getShareListInfo', { room_id: this.roomId }).then(res => {
          this.dataInfo.shareNum = res.data.total || 0;
        });
        // èŠå¤©
        this.$fetch('getChatListInfo', { room_id: this.roomId }).then(res => {
          this.dataInfo.chatNum = res.data.total || 0;
        });
        // ç‚¹èµ
        this.$fetch('getRoomLikeInfo', { room_id: this.roomId }).then(res => {
          this.dataInfo.likeNum = res.data.total || 0;
        });
        // æ‰“èµç»Ÿè®¡
        this.$fetch('getRewardListInfo', { webinar_id: this.$route.params.str }).then(res => {
          this.dataInfo.rewardMoney = res.data.total_money || 0;
        });
        // ç¤¼ç‰©(å…ƒ)
        this.$fetch('getGiftIncome', { room_id: this.roomId }).then(res => {
          this.dataInfo.gitMoney = res.data.total_money || 0;
        });
      },
      getOtherInfo() {
        //é—®ç­”
        this.$fetch('getRecodrderInfo', { room_id: this.roomId }).then(res => {
          this.dataInfo.recordNum = res.data.total || 0;
        });
        // ç­¾åˆ°
        this.$fetch('getSignInfo', { room_id: this.roomId }).then(res => {
          this.dataInfo.signNum = res.data.total || 0;
        });
        // é—®å·æäº¤äººæ•°
        this.$fetch('getSurveyInfo', { room_id: this.roomId }).then(res => {
          this.dataInfo.submitNum = res.data.submit_nums || 0;
        });
        // å¿«é—®å¿«ç­”æäº¤äººæ•°
        examServer
          .getExamAnserCount({
            source_id: this.$route.params.str,
            source_type: 1
          })
          .then(res => {
            console.log('ğŸš€ ~ file: baseData.vue ~ line 548 ~ getOtherInfo ~ res', res);
            this.dataInfo.examSubmitNum = res.data.count || 0;
          });
        // è·å–æŠ½å¥–äººæ•°
        this.$fetch('getPrizeUserInfo', { webinar_id: this.$route.params.str }).then(res => {
          this.dataInfo.prizeNum = res.data.count || 0;
        });
        // å‘çº¢åŒ…
        this.$fetch('getRedpacketInfo', { webinar_id: this.$route.params.str }).then(res => {
          this.dataInfo.redpacketMoney = res.data.send_amount || 0;
        });
        // å£ä»¤çº¢åŒ…
        this.$fetch('getCodeRedpacketInfo', { webinar_id: this.$route.params.str }).then(res => {
          this.dataInfo.codeRedPacketCount = res.data.count || 0;
        });
      },
      // è¿éº¦(æ¡)
      speakContactInfo() {
        this.$fetch('getSpeakListInfo', { room_id: this.roomId }).then(res => {
          this.dataInfo.speakNum = res.data.total || 0;
        });
      },
      // åˆ†ç»„ï¼ˆæ¬¡ï¼‰
      getGroupStatics() {
        this.$fetch('getGroupStatics', { room_id: this.roomId }).then(res => {
          this.dataInfo.groupSwitchCount = res.data.group_switch_count || 0;
        });
      },
      // é¢„çº¦-å¯¼å‡º
      exportSubscribeInfo() {
        this.$fetch('exportSubscribe', { webinar_id: this.$route.params.str }).then(res => {
          this.$vhall_paas_port({
            k: 100442,
            data: {
              business_uid: this.userId,
              user_id: '',
              webinar_id: this.$route.params.str,
              refer: '',
              s: '',
              report_extra: {},
              ref_url: '',
              req_url: ''
            }
          });
          if (this.vm) {
            console.log('11111111111');
            this.vm.close();
          }
          console.log('222222222');
          this.messageInfo();
          this.$EventBus.$emit('saas_vs_download_change');
        });
      },
      // è¯•çœ‹-å¯¼å‡º
      exportPreviewInfo() {
        this.$fetch('exportPreview', { webinar_id: this.$route.params.str }).then(res => {
          this.$vhall_paas_port({
            k: 100444,
            data: {
              business_uid: this.userId,
              user_id: '',
              webinar_id: this.$route.params.str,
              refer: '',
              s: '',
              report_extra: {},
              ref_url: '',
              req_url: ''
            }
          });
          if (this.vm) {
            this.vm.close();
          }
          this.messageInfo();
          this.$EventBus.$emit('saas_vs_download_change');
        });
      },
      // åˆ†äº«å¯¼å‡º
      exportShare() {
        this.$fetch('exportShareInfo', { room_id: this.roomId }).then(res => {
          this.$vhall_paas_port({
            k: 100446,
            data: {
              business_uid: this.userId,
              user_id: '',
              webinar_id: this.$route.params.str,
              refer: '',
              s: '',
              report_extra: {},
              ref_url: '',
              req_url: ''
            }
          });
          if (this.vm) {
            this.vm.close();
          }
          this.messageInfo();
          this.$EventBus.$emit('saas_vs_download_change');
        });
      },
      //æŠ¥åè¡¨å•å¯¼å‡º
      exportAnswer() {
        this.$fetch('exportForm', { webinar_id: this.$route.params.str }).then(res => {
          this.$vhall_paas_port({
            k: 100443,
            data: {
              business_uid: this.userId,
              user_id: '',
              webinar_id: this.$route.params.str,
              refer: '',
              s: '',
              report_extra: {},
              ref_url: '',
              req_url: ''
            }
          });
          if (this.vm) {
            this.vm.close();
          }
          this.messageInfo();
          this.$EventBus.$emit('saas_vs_download_change');
        });
      },
      //æ‰“èµ---å¯¼å‡º
      exportReward() {
        this.$fetch('exportReward', { webinar_id: this.$route.params.str }).then(res => {
          this.$vhall_paas_port({
            k: 100453,
            data: {
              business_uid: this.userId,
              user_id: '',
              webinar_id: this.$route.params.str,
              refer: '',
              s: '',
              report_extra: {},
              ref_url: '',
              req_url: ''
            }
          });
          if (this.vm) {
            this.vm.close();
          }
          this.messageInfo();
          this.$EventBus.$emit('saas_vs_download_change');
        });
      },
      // ç¤¼ç‰©---å¯¼å‡º
      exportGift() {
        this.$fetch('exportGift', { room_id: this.roomId }).then(res => {
          this.$vhall_paas_port({
            k: 100454,
            data: {
              business_uid: this.userId,
              user_id: '',
              webinar_id: this.$route.params.str,
              refer: '',
              s: '',
              report_extra: {},
              ref_url: '',
              req_url: ''
            }
          });
          if (this.vm) {
            this.vm.close();
          }
          this.messageInfo();
          this.$EventBus.$emit('saas_vs_download_change');
        });
      },
      // è¿éº¦---å¯¼å‡º
      exportSpeak() {
        this.$fetch('exportSpeak', { room_id: this.roomId }).then(res => {
          this.$vhall_paas_port({
            k: 100455,
            data: {
              business_uid: this.userId,
              user_id: '',
              webinar_id: this.$route.params.str,
              refer: '',
              s: '',
              report_extra: {},
              ref_url: '',
              req_url: ''
            }
          });
          if (this.vm) {
            this.vm.close();
          }
          this.messageInfo();
          this.$EventBus.$emit('saas_vs_download_change');
        });
      },
      // åˆ†ç»„ç›´æ’­ --- å¯¼å‡º
      exportGroup() {
        this.$fetch('exportGroupList', { room_id: this.roomId }).then(res => {
          // this.$vhall_paas_port({
          //   k: 100455,
          //   data: {business_uid: this.userId, user_id: '', webinar_id: this.$route.params.str, refer: '', s: '', report_extra: {}, ref_url: '', req_url: ''}
          // })
          if (this.vm) {
            this.vm.close();
          }
          this.messageInfo();
          this.$EventBus.$emit('saas_vs_download_change');
        });
      },
      lookOption(title, index) {
        if (index) {
          this.$vhall_paas_port({
            k: index,
            data: {
              business_uid: this.userId,
              user_id: '',
              webinar_id: this.$route.params.str,
              refer: '',
              s: '',
              report_extra: {},
              ref_url: '',
              req_url: ''
            }
          });
        }
        this.$router.push({
          path: '/live/interactionDetail',
          query: {
            roomId: this.roomId,
            id: this.$route.params.str,
            title: title,
            wType: this.webinarType
          }
        });
      }
    }
  };
</script>
<style lang="less" scoped>
  .base-data {
    /deep/.el-button {
      border: none;
      background: transparent;
    }
    /deep/.el-button.is-circle {
      padding: 3px;
    }
    .base-title {
      margin-bottom: 12px;
      span {
        display: inline-block;
        font-size: 20px;
        color: #333333;
        line-height: 20px;
        b {
          float: left;
          width: 4px;
          height: 18px;
          background: #fb3a32;
          margin-right: 5px;
          margin-top: 2px;
        }
      }
      i {
        font-size: 16px;
        padding: 0 2px;
      }
    }
    .liveItem {
      width: 100%;
      margin-bottom: 20px;
      display: flex;
      flex-wrap: wrap;
      // margin-right: -24px;
      // align-items: center;
      .base-item {
        height: 120px;
        width: 323px;
        margin-bottom: 24px;
        margin-right: 24px;
        position: relative;
        border-radius: 4px;
        background: #fff;
        border: 1px solid transparent;
        cursor: pointer;
        transition: all 0.15s ease-in;
        &:nth-child(4n) {
          margin-right: 24px;
        }
        &:nth-child(3n) {
          margin-right: 0;
        }
        p {
          position: absolute;
          font-size: 12px;
          top: 14px;
          right: 16px;
          color: #666;
        }
        .base-main {
          height: 100%;
          margin: 35px 0 0 36px;
          display: flex;
          // /deep/.svg-icon{
          //   font-size: 38px;
          //   color: #FB3A32;
          // }
          label {
            width: 44px;
            height: 44px;
            img {
              width: 100%;
              height: 100%;
              object-fit: scale-down;
            }
          }

          .base-text {
            margin-left: 15px;
            span {
              color: #666;
            }
            h1 {
              font-size: 28px;
              color: #1a1a1a;
              font-weight: bold;
              line-height: 35px;
              // padding-top: 5px;
              span {
                color: #1a1a1a;
                font-weight: bold;
              }
            }
          }
        }
        &:hover {
          border: 1px solid #fb3a32;
          box-shadow: 0px 6px 12px 0px rgba(0, 0, 0, 0.08), 0px 2px 4px 0px rgba(0, 0, 0, 0.02);
          // border-radius: 4px;
        }
      }
    }
  }
  @media (min-width: 1920px) {
    .base-data .liveItem .base-item {
      &:nth-child(3n) {
        margin-right: 24px;
      }
      &:nth-child(4n) {
        margin-right: 0;
      }
    }
  }
  /deep/.saasicon_help_m {
    color: #999999;
  }
</style>
